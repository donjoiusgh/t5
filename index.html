<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 2024 Draft Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: "Warm Neutral" - A calming and professional palette using beige, slate, and subtle amber accents. -->
    <!-- Application Structure Plan: The SPA is designed as an interactive dashboard. The layout includes: 1) A header. 2) Key Performance Indicator (KPI) cards summarizing the filtered data (Total Players, Avg. Salary, Dropped Players). 3) A control bar with filters for Position and Drop Status. 4) A main content area with a sortable data table and an interactive bar chart showing Average Salary by Position. This structure was chosen because it provides a top-down analytical flow. Users get a high-level overview from the KPIs, can then manipulate the dataset with intuitive filters, and finally dive into the details in the table or see comparative visuals in the chart. This is a highly usable and standard pattern for data exploration. -->
    <!-- Visualization & Content Choices:
        - Report Info: Aggregate stats (counts, averages). Goal: Inform. Method: KPI Cards (HTML/Tailwind). Interaction: Dynamically update with filters. Justification: Provides immediate, high-level context.
        - Report Info: Player list, salaries, drop status. Goal: Organize/Compare. Method: Sortable HTML Table. Interaction: Click headers to sort, filters update content. Justification: Best for displaying detailed row-level data.
        - Report Info: Salaries by position. Goal: Compare. Method: Bar Chart (Chart.js/Canvas). Interaction: Updates based on Drop Status filter. Justification: Excellent for comparing a numerical value across categories; interactivity adds an analytical layer to see value differences between kept/dropped players.
        - Report Info: Player positions, drop status. Goal: Organize. Method: Dropdown/Buttons (HTML/Tailwind). Interaction: Controls the data displayed in the table and chart. Justification: Standard, intuitive UI for filtering a dataset.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF7; /* Warm Beige */
            color: #4A4A4A;
        }
        .kpi-card {
            background-color: #FFFFFF;
            border: 1px solid #EAEAEA;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
        .filter-btn {
            transition: all 0.2s ease-in-out;
        }
        .filter-btn.active {
            background-color: #D6A158; /* Muted Amber */
            color: #FFFFFF;
            font-weight: 600;
        }
        .filter-btn:not(.active) {
            background-color: #FFFFFF;
            color: #4A5568; /* Slate Gray */
        }
        .table-header-sortable {
            cursor: pointer;
            transition: color 0.2s ease-in-out;
        }
        .table-header-sortable:hover {
            color: #D6A158;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (min-width: 1024px) {
            .chart-container {
                max-height: 100%;
                height: 100%;
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800">2024 Draft Results Analyzer</h1>
            <p class="text-lg text-gray-600 mt-2">An interactive dashboard to explore draft data, player salaries, and transaction trends.</p>
        </header>

        <section id="kpi-section" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div class="kpi-card p-6 rounded-lg text-center">
                <h3 class="text-lg font-semibold text-gray-500">Total Players</h3>
                <p id="total-players" class="text-4xl font-bold text-gray-800">0</p>
            </div>
            <div class="kpi-card p-6 rounded-lg text-center">
                <h3 class="text-lg font-semibold text-gray-500">Avg. 2024 Salary</h3>
                <p id="avg-salary" class="text-4xl font-bold text-gray-800">$0</p>
            </div>
            <div class="kpi-card p-6 rounded-lg text-center">
                <h3 class="text-lg font-semibold text-gray-500">Players on Drop List</h3>
                <p id="dropped-players" class="text-4xl font-bold text-gray-800">0</p>
            </div>
        </section>

        <section id="filter-controls" class="bg-white p-4 rounded-lg shadow-sm mb-8 flex flex-col md:flex-row items-center justify-between gap-4">
            <div class="flex items-center gap-4">
                <label for="position-filter" class="font-semibold text-gray-700">Filter by Position:</label>
                <select id="position-filter" class="border border-gray-300 rounded-md p-2">
                    <option value="All">All Positions</option>
                    <option value="QB">QB</option>
                    <option value="RB">RB</option>
                    <option value="WR">WR</option>
                    <option value="TE">TE</option>
                    <option value="K">K</option>
                    <option value="DEF">DEF</option>
                </select>
            </div>
            <div class="flex items-center gap-2">
                <span class="font-semibold text-gray-700">Drop List Status:</span>
                <button class="filter-btn border border-gray-300 px-4 py-2 rounded-md text-sm active" data-filter="All">All</button>
                <button class="filter-btn border border-gray-300 px-4 py-2 rounded-md text-sm" data-filter="Yes">Yes</button>
                <button class="filter-btn border border-gray-300 px-4 py-2 rounded-md text-sm" data-filter="No">No</button>
            </div>
        </section>

        <main class="grid grid-cols-1 lg:grid-cols-5 gap-8">
            <div class="lg:col-span-3 bg-white p-4 sm:p-6 rounded-lg shadow-sm overflow-x-auto">
                 <h2 class="text-2xl font-bold text-gray-800 mb-4">Drafted Players</h2>
                <table class="w-full text-left">
                    <thead>
                        <tr class="border-b-2 border-gray-200">
                            <th class="p-3 table-header-sortable" data-sort="player">Player</th>
                            <th class="p-3 table-header-sortable text-right" data-sort="salary2024">2024 Salary</th>
                            <th class="p-3 table-header-sortable text-right" data-sort="salary2025">2025 Salary</th>
                            <th class="p-3 text-center">On Drop List</th>
                        </tr>
                    </thead>
                    <tbody id="player-table-body">
                    </tbody>
                </table>
            </div>
            <div class="lg:col-span-2 bg-white p-4 sm:p-6 rounded-lg shadow-sm flex flex-col">
                 <h2 class="text-2xl font-bold text-gray-800 mb-1 text-center">Average Salary by Position</h2>
                 <p class="text-sm text-gray-500 mb-4 text-center">Shows the average 2024 salary for each position based on the current filter. Use the 'Drop List Status' filter to compare values.</p>
                <div class="chart-container flex-grow">
                    <canvas id="position-salary-chart"></canvas>
                </div>
            </div>
        </main>
    </div>

    <script>
        const rawData = [
            { player: 'Christian McCaffrey (SF - RB)', salary2024: 65, salary2025: 69, onDropList: 'No', position: 'RB' },
            { player: 'Bijan Robinson (Atl - RB)', salary2024: 64, salary2025: 68, onDropList: 'No', position: 'RB' },
            { player: 'Kyren Williams (LAR - RB)', salary2024: 60, salary2025: 64, onDropList: 'No', position: 'RB' },
            { player: 'Saquon Barkley (Phi - RB)', salary2024: 59, salary2025: 63, onDropList: 'No', position: 'RB' },
            { player: 'Derrick Henry (Bal - RB)', salary2024: 56, salary2025: 60, onDropList: 'No', position: 'RB' },
            { player: 'Justin Jefferson (Min - WR)', salary2024: 50, salary2025: 54, onDropList: 'No', position: 'WR' },
            { player: 'Tyreek Hill (Mia - WR)', salary2024: 46, salary2025: 50, onDropList: 'No', position: 'WR' },
            { player: 'A.J. Brown (Phi - WR)', salary2024: 45, salary2025: 49, onDropList: 'No', position: 'WR' },
            { player: 'Jaylen Waddle (Mia - WR)', salary2024: 43, salary2025: 47, onDropList: 'No', position: 'WR' },
            { player: 'Jahmyr Gibbs (Det - RB)', salary2024: 42, salary2025: 46, onDropList: 'No', position: 'RB' },
            { player: 'Tank Dell (Hou - WR)', salary2024: 41, salary2025: 45, onDropList: 'No', position: 'WR' },
            { player: 'Marvin Harrison Jr. (Ari - WR)', salary2024: 41, salary2025: 45, onDropList: 'No', position: 'WR' },
            { player: 'DK Metcalf (Pit - WR)', salary2024: 38, salary2025: 42, onDropList: 'No', position: 'WR' },
            { player: 'Puka Nacua (LAR - WR)', salary2024: 37, salary2025: 41, onDropList: 'No', position: 'WR' },
            { player: 'Joe Mixon (Hou - RB)', salary2024: 35, salary2025: 39, onDropList: 'No', position: 'RB' },
            { player: 'Lamar Jackson (Bal - QB)', salary2024: 34, salary2025: 38, onDropList: 'No', position: 'QB' },
            { player: 'Brandon Aiyuk (SF - WR)', salary2024: 32, salary2025: 36, onDropList: 'No', position: 'WR' },
            { player: 'Cooper Kupp (Sea - WR)', salary2024: 32, salary2025: 36, onDropList: 'No', position: 'WR' },
            { player: 'Travis Kelce (KC - TE)', salary2024: 31, salary2025: 35, onDropList: 'No', position: 'TE' },
            { player: 'Stefon Diggs (NE - WR)', salary2024: 31, salary2025: 35, onDropList: 'Yes', position: 'WR' },
            { player: 'Ja\'Marr Chase (Cin - WR)', salary2024: 30, salary2025: 34, onDropList: 'No', position: 'WR' },
            { player: 'Josh Jacobs (GB - RB)', salary2024: 30, salary2025: 34, onDropList: 'No', position: 'RB' },
            { player: 'George Pickens (Dal - WR)', salary2024: 30, salary2025: 34, onDropList: 'No', position: 'WR' },
            { player: 'Davante Adams (LAR - WR)', salary2024: 30, salary2025: 34, onDropList: 'No', position: 'WR' },
            { player: 'Isiah Pacheco (KC - RB)', salary2024: 29, salary2025: 33, onDropList: 'No', position: 'RB' },
            { player: 'Breece Hall (NYJ - RB)', salary2024: 29, salary2025: 33, onDropList: 'No', position: 'RB' },
            { player: 'Malik Nabers (NYG - WR)', salary2024: 29, salary2025: 33, onDropList: 'No', position: 'WR' },
            { player: 'Jonathan Taylor (Ind - RB)', salary2024: 28, salary2025: 32, onDropList: 'No', position: 'RB' },
            { player: 'David Montgomery (Det - RB)', salary2024: 27, salary2025: 31, onDropList: 'No', position: 'RB' },
            { player: 'Tee Higgins (Cin - WR)', salary2024: 26, salary2025: 30, onDropList: 'No', position: 'WR' },
            { player: 'Trey McBride (Ari - TE)', salary2024: 26, salary2025: 30, onDropList: 'No', position: 'TE' },
            { player: 'Najee Harris (LAC - RB)', salary2024: 26, salary2025: 30, onDropList: 'No', position: 'RB' },
            { player: 'Drake London (Atl - WR)', salary2024: 25, salary2025: 29, onDropList: 'No', position: 'WR' },
            { player: 'George Kittle (SF - TE)', salary2024: 25, salary2025: 29, onDropList: 'No', position: 'TE' },
            { player: 'Patrick Mahomes (KC - QB)', salary2024: 25, salary2025: 29, onDropList: 'No', position: 'QB' },
            { player: 'Travis Etienne Jr. (Jax - RB)', salary2024: 25, salary2025: 29, onDropList: 'No', position: 'RB' },
            { player: 'C.J. Stroud (Hou - QB)', salary2024: 25, salary2025: 29, onDropList: 'No', position: 'QB' },
            { player: 'Alvin Kamara (NO - RB)', salary2024: 24, salary2025: 28, onDropList: 'No', position: 'RB' },
            { player: 'Rashee Rice (KC - WR)', salary2024: 24, salary2025: 28, onDropList: 'No', position: 'WR' },
            { player: 'Amon-Ra St. Brown (Det - WR)', salary2024: 23, salary2025: 27, onDropList: 'No', position: 'WR' },
            { player: 'DJ Moore (Chi - WR)', salary2024: 23, salary2025: 27, onDropList: 'No', position: 'WR' },
            { player: 'Javonte Williams (Dal - RB)', salary2024: 23, salary2025: 27, onDropList: 'Yes', position: 'RB' },
            { player: 'Amari Cooper (Buf - WR)', salary2024: 23, salary2025: 27, onDropList: 'No', position: 'WR' },
            { player: 'Austin Ekeler (Was - RB)', salary2024: 23, salary2025: 27, onDropList: 'No', position: 'RB' },
            { player: 'Mark Andrews (Bal - TE)', salary2024: 22, salary2025: 26, onDropList: 'Yes', position: 'TE' },
            { player: 'Deebo Samuel (Was - WR)', salary2024: 22, salary2025: 26, onDropList: 'No', position: 'WR' },
            { player: 'Rachaad White (TB - RB)', salary2024: 21, salary2025: 25, onDropList: 'No', position: 'RB' },
            { player: 'CeeDee Lamb (Dal - WR)', salary2024: 19, salary2025: 23, onDropList: 'No', position: 'WR' },
            { player: 'Josh Allen (Buf - QB)', salary2024: 19, salary2025: 23, onDropList: 'No', position: 'QB' },
            { player: 'Devin Singletary (NYG - RB)', salary2024: 18, salary2025: 22, onDropList: 'Yes', position: 'RB' },
            { player: 'DeVonta Smith (Phi - WR)', salary2024: 18, salary2025: 22, onDropList: 'No', position: 'WR' },
            { player: 'D\'Andre Swift (Chi - RB)', salary2024: 18, salary2025: 22, onDropList: 'No', position: 'RB' },
            { player: 'Christian Kirk (Hou - WR)', salary2024: 18, salary2025: 22, onDropList: 'Yes', position: 'WR' },
            { player: 'James Cook (Buf - RB)', salary2024: 18, salary2025: 22, onDropList: 'No', position: 'RB' },
            { player: 'Jalen Hurts (Phi - QB)', salary2024: 17, salary2025: 21, onDropList: 'No', position: 'QB' },
            { player: 'Xavier Worthy (KC - WR)', salary2024: 17, salary2025: 21, onDropList: 'No', position: 'WR' },
            { player: 'Michael Pittman Jr. (Ind - WR)', salary2024: 16, salary2025: 20, onDropList: 'Yes', position: 'WR' },
            { player: 'Mike Evans (TB - WR)', salary2024: 16, salary2025: 20, onDropList: 'No', position: 'WR' },
            { player: 'Aaron Jones Sr. (Min - RB)', salary2024: 16, salary2025: 20, onDropList: 'No', position: 'RB' },
            { player: 'James Conner (Ari - RB)', salary2024: 15, salary2025: 19, onDropList: 'No', position: 'RB' },
            { player: 'Calvin Ridley (Ten - WR)', salary2024: 15, salary2025: 19, onDropList: 'No', position: 'WR' },
            { player: 'Terry McLaurin (Was - WR)', salary2024: 14, salary2025: 18, onDropList: 'No', position: 'WR' },
            { player: 'Jonathon Brooks (Car - RB)', salary2024: 14, salary2025: 18, onDropList: 'No', position: 'RB' },
            { player: 'Kyle Pitts (Atl - TE)', salary2024: 14, salary2025: 18, onDropList: 'No', position: 'TE' },
            { player: 'Chris Olave (NO - WR)', salary2024: 13, salary2025: 17, onDropList: 'No', position: 'WR' },
            { player: 'Rhamondre Stevenson (NE - RB)', salary2024: 13, salary2025: 17, onDropList: 'No', position: 'RB' },
            { player: 'Brian Robinson Jr. (Was - RB)', salary2024: 13, salary2025: 17, onDropList: 'No', position: 'RB' },
            { player: 'Zay Flowers (Bal - WR)', salary2024: 13, salary2025: 17, onDropList: 'No', position: 'WR' },
            { player: 'De\'Von Achane (Mia - RB)', salary2024: 13, salary2025: 17, onDropList: 'No', position: 'RB' },
            { player: 'Anthony Richardson Sr. (Ind - QB)', salary2024: 12, salary2025: 16, onDropList: 'Yes', position: 'QB' },
            { player: 'Jayden Daniels (Was - QB)', salary2024: 12, salary2025: 16, onDropList: 'No', position: 'QB' },
            { player: 'Tyjae Spears (Ten - RB)', salary2024: 12, salary2025: 16, onDropList: 'Yes', position: 'RB' },
            { player: 'Kenneth Walker III (Sea - RB)', salary2024: 12, salary2025: 16, onDropList: 'No', position: 'RB' },
            { player: 'Zack Moss (Cin - RB)', salary2024: 12, salary2025: 16, onDropList: 'Yes', position: 'RB' },
            { player: 'Jake Ferguson (Dal - TE)', salary2024: 12, salary2025: 16, onDropList: 'No', position: 'TE' },
            { player: 'Dallas (Dal - DEF)', salary2024: 11, salary2025: 15, onDropList: 'Yes', position: 'DEF' },
            { player: 'San Francisco (SF - DEF)', salary2024: 11, salary2025: 15, onDropList: 'No', position: 'DEF' },
            { player: 'Jayden Reed (GB - WR)', salary2024: 11, salary2025: 15, onDropList: 'No', position: 'WR' },
            { player: 'Jordan Love (GB - QB)', salary2024: 11, salary2025: 15, onDropList: 'No', position: 'QB' },
            { player: 'Zamir White (LV - RB)', salary2024: 11, salary2025: 15, onDropList: 'Yes', position: 'RB' },
            { player: 'Garrett Wilson (NYJ - WR)', salary2024: 10, salary2025: 14, onDropList: 'No', position: 'WR' },
            { player: 'Chris Godwin (TB - WR)', salary2024: 10, salary2025: 14, onDropList: 'No', position: 'WR' },
            { player: 'Dallas Goedert (Phi - TE)', salary2024: 10, salary2025: 14, onDropList: 'No', position: 'TE' },
            { player: 'Dak Prescott (Dal - QB)', salary2024: 10, salary2025: 14, onDropList: 'No', position: 'QB' },
            { player: 'Baltimore (Bal - DEF)', salary2024: 9, salary2025: 13, onDropList: 'Yes', position: 'DEF' },
            { player: 'Dalton Kincaid (Buf - TE)', salary2024: 9, salary2025: 13, onDropList: 'No', position: 'TE' },
            { player: 'Gus Edwards (LAC - RB)', salary2024: 9, salary2025: 13, onDropList: 'Yes', position: 'RB' },
            { player: 'Ladd McConkey (LAC - WR)', salary2024: 8, salary2025: 12, onDropList: 'No', position: 'WR' },
            { player: 'Ezekiel Elliott (Dal - RB)', salary2024: 8, salary2025: 12, onDropList: 'Yes', position: 'RB' },
            { player: 'Sam LaPorta (Det - TE)', salary2024: 8, salary2025: 12, onDropList: 'No', position: 'TE' },
            { player: 'Tony Pollard (Ten - RB)', salary2024: 8, salary2025: 12, onDropList: 'No', position: 'RB' },
            { player: 'Jerome Ford (Cle - RB)', salary2024: 8, salary2025: 12, onDropList: 'Yes', position: 'RB' },
            { player: 'Joe Burrow (Cin - QB)', salary2024: 8, salary2025: 12, onDropList: 'No', position: 'QB' },
            { player: 'Jaylen Wright (Mia - RB)', salary2024: 7, salary2025: 11, onDropList: 'Yes', position: 'RB' },
            { player: 'Rome Odunze (Chi - WR)', salary2024: 7, salary2025: 11, onDropList: 'No', position: 'WR' },
            { player: 'Courtland Sutton (Den - WR)', salary2024: 7, salary2025: 11, onDropList: 'No', position: 'WR' },
            { player: 'Jermaine Burton (Cin - WR)', salary2024: 7, salary2025: 11, onDropList: 'Yes', position: 'WR' },
            { player: 'Evan Engram (Den - TE)', salary2024: 7, salary2025: 11, onDropList: 'Yes', position: 'TE' },
            { player: 'Brock Bowers (LV - TE)', salary2024: 6, salary2025: 10, onDropList: 'No', position: 'TE' },
            { player: 'Justin Tucker (Bal - K)', salary2024: 6, salary2025: 10, onDropList: 'Yes', position: 'K' },
            { player: 'Nick Chubb (Hou - RB)', salary2024: 6, salary2025: 10, onDropList: 'No', position: 'RB' },
            { player: 'Brandon Aubrey (Dal - K)', salary2024: 5, salary2025: 9, onDropList: 'No', position: 'K' },
            { player: 'Kyler Murray (Ari - QB)', salary2024: 5, salary2025: 9, onDropList: 'No', position: 'QB' },
            { player: 'Raheem Mostert (LV - RB)', salary2024: 5, salary2025: 9, onDropList: 'Yes', position: 'RB' },
            { player: 'Keenan Allen (Chi - WR)', salary2024: 5, salary2025: 9, onDropList: 'No', position: 'WR' },
            { player: 'Brock Purdy (SF - QB)', salary2024: 5, salary2025: 9, onDropList: 'No', position: 'QB' },
            { player: 'Nico Collins (Hou - WR)', salary2024: 5, salary2025: 9, onDropList: 'No', position: 'WR' },
            { player: 'Caleb Williams (Chi - QB)', salary2024: 4, salary2025: 8, onDropList: 'No', position: 'QB' },
            { player: 'Harrison Butker (KC - K)', salary2024: 4, salary2025: 8, onDropList: 'Yes', position: 'K' },
            { player: 'Buffalo (Buf - DEF)', salary2024: 4, salary2025: 8, onDropList: 'No', position: 'DEF' },
            { player: 'Chase Brown (Cin - RB)', salary2024: 4, salary2025: 8, onDropList: 'No', position: 'RB' },
            { player: 'Detroit (Det - DEF)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'DEF' },
            { player: 'Mike Williams (LAC - WR)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'WR' },
            { player: 'Cleveland (Cle - DEF)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'DEF' },
            { player: 'Jake Moody (SF - K)', salary2024: 3, salary2025: 7, onDropList: 'No', position: 'K' },
            { player: 'Trevor Lawrence (Jax - QB)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'QB' },
            { player: 'New York (NYJ - DEF)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'DEF' },
            { player: 'Jordan Addison (Min - WR)', salary2024: 3, salary2025: 7, onDropList: 'No', position: 'WR' },
            { player: 'Christian Watson (GB - WR)', salary2024: 3, salary2025: 7, onDropList: 'No', position: 'WR' },
            { player: 'Blake Corum (LAR - RB)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'RB' },
            { player: 'Aaron Rodgers (Pit - QB)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'QB' },
            { player: 'Jaylen Warren (Pit - RB)', salary2024: 3, salary2025: 7, onDropList: 'Yes', position: 'RB' },
            { player: 'Jameson Williams (Det - WR)', salary2024: 3, salary2025: 7, onDropList: 'No', position: 'WR' },
            { player: 'David Njoku (Cle - TE)', salary2024: 2, salary2025: 6, onDropList: 'Yes', position: 'TE' },
            { player: 'Rashid Shaheed (NO - WR)', salary2024: 2, salary2025: 6, onDropList: 'No', position: 'WR' },
            { player: 'Jared Goff (Det - QB)', salary2024: 2, salary2025: 6, onDropList: 'Yes', position: 'QB' },
            { player: 'Ricky Pearsall (SF - WR)', salary2024: 2, salary2025: 6, onDropList: 'No', position: 'WR' },
            { player: 'Younghoe Koo (Atl - K)', salary2024: 2, salary2025: 6, onDropList: 'Yes', position: 'K' },
            { player: 'Ka\'imi Fairbairn (Hou - K)', salary2024: 2, salary2025: 6, onDropList: 'No', position: 'K' },
            { player: 'DeAndre Hopkins (Bal - WR)', salary2024: 2, salary2025: 6, onDropList: 'Yes', position: 'WR' },
            { player: 'Curtis Samuel (Buf - WR)', salary2024: 2, salary2025: 6, onDropList: 'Yes', position: 'WR' },
            { player: 'Jahan Dotson (Phi - WR)', salary2024: 2, salary2025: 6, onDropList: 'Yes', position: 'WR' },
            { player: 'Dalton Schultz (Hou - TE)', salary2024: 2, salary2025: 6, onDropList: 'Yes', position: 'TE' },
            { player: 'Brian Thomas Jr. (Jax - WR)', salary2024: 2, salary2025: 6, onDropList: 'No', position: 'WR' },
            { player: 'Evan McPherson (Cin - K)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'K' },
            { player: 'Taysom Hill (NO - QB,TE)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'TE' },
            { player: 'Justin Herbert (LAC - QB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'QB' },
            { player: 'Quentin Johnston (LAC - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Ja\'Lynn Polk (NE - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Rico Dowdle (Car - RB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'RB' },
            { player: 'Zach Charbonnet (Sea - RB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'RB' },
            { player: 'Hollywood Brown (KC - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Minnesota (Min - DEF)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'DEF' },
            { player: 'Xavier Legette (Car - WR)', salary2024: 1, salary2025: 5, onDropList: 'No', position: 'WR' },
            { player: 'Kansas City (KC - DEF)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'DEF' },
            { player: 'Diontae Johnson (Cle - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Joshua Palmer (Buf - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Khalil Shakir (Buf - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'New Orleans (NO - DEF)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'DEF' },
            { player: 'Tyler Bass (Buf - K)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'K' },
            { player: 'Braelon Allen (NYJ - RB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'RB' },
            { player: 'Chuba Hubbard (Car - RB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'RB' },
            { player: 'Brandin Cooks (NO - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Jaxon Smith-Njigba (Sea - WR)', salary2024: 1, salary2025: 5, onDropList: 'No', position: 'WR' },
            { player: 'Jake Elliott (Phi - K)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'K' },
            { player: 'Keon Coleman (Buf - WR)', salary2024: 1, salary2025: 5, onDropList: 'No', position: 'WR' },
            { player: 'T.J. Hockenson (Min - TE)', salary2024: 1, salary2025: 5, onDropList: 'No', position: 'TE' },
            { player: 'Jason Sanders (Mia - K)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'K' },
            { player: 'Jerry Jeudy (Cle - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Romeo Doubs (GB - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Gabe Davis (Jax - WR)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'WR' },
            { player: 'Tua Tagovailoa (Mia - QB)', salary2024: 1, salary2025: 5, onDropList: 'No', position: 'QB' },
            { player: 'Elijah Mitchell (KC - RB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'RB' },
            { player: 'Trey Benson (Ari - RB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'RB' },
            { player: 'Pat Freiermuth (Pit - TE)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'TE' },
            { player: 'Deshaun Watson (Cle - QB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'QB' },
            { player: 'Luke Musgrave (GB - TE)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'TE' },
            { player: 'Tyler Allgeier (Atl - RB)', salary2024: 1, salary2025: 5, onDropList: 'Yes', position: 'RB' },
        ];

        let filteredData = [...rawData];
        let sortState = {
            column: 'salary2024',
            direction: 'desc'
        };

        const positionFilter = document.getElementById('position-filter');
        const dropStatusFilterContainer = document.querySelector('#filter-controls .flex.items-center.gap-2');
        const tableBody = document.getElementById('player-table-body');
        const tableHeaders = document.querySelectorAll('.table-header-sortable');

        let positionSalaryChart;

        const renderTable = () => {
            tableBody.innerHTML = '';

            filteredData.sort((a, b) => {
                let valA = a[sortState.column];
                let valB = b[sortState.column];

                if (typeof valA === 'string') {
                    valA = valA.toLowerCase();
                    valB = valB.toLowerCase();
                }

                if (valA < valB) return sortState.direction === 'asc' ? -1 : 1;
                if (valA > valB) return sortState.direction === 'asc' ? 1 : -1;
                return 0;
            });

            filteredData.forEach(player => {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-100 hover:bg-gray-50';

                const dropListIndicator = player.onDropList === 'Yes'
                    ? `<span class="inline-block bg-red-100 text-red-800 text-xs font-semibold px-2 py-1 rounded-full">Yes</span>`
                    : `<span class="inline-block bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded-full">No</span>`;

                row.innerHTML = `
                    <td class="p-3">
                        <div class="font-medium">${player.player}</div>
                    </td>
                    <td class="p-3 text-right font-mono">$${player.salary2024}</td>
                    <td class="p-3 text-right font-mono">$${player.salary2025}</td>
                    <td class="p-3 text-center">${dropListIndicator}</td>
                `;
                tableBody.appendChild(row);
            });
        };

        const updateKPIs = () => {
            const totalPlayers = filteredData.length;
            const avgSalary = totalPlayers > 0 ? (filteredData.reduce((sum, p) => sum + p.salary2024, 0) / totalPlayers).toFixed(2) : 0;
            const droppedPlayers = filteredData.filter(p => p.onDropList === 'Yes').length;

            document.getElementById('total-players').textContent = totalPlayers;
            document.getElementById('avg-salary').textContent = `$${avgSalary}`;
            document.getElementById('dropped-players').textContent = droppedPlayers;
        };

        const renderChart = () => {
            const positions = ['QB', 'RB', 'WR', 'TE', 'K', 'DEF'];
            const avgSalariesByPosition = positions.map(pos => {
                const playersInPos = filteredData.filter(p => p.position === pos);
                if (playersInPos.length === 0) return 0;
                const totalSalary = playersInPos.reduce((sum, p) => sum + p.salary2024, 0);
                return totalSalary / playersInPos.length;
            });

            const ctx = document.getElementById('position-salary-chart').getContext('2d');
            if(positionSalaryChart) {
                positionSalaryChart.destroy();
            }
            positionSalaryChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: positions,
                    datasets: [{
                        label: 'Avg. 2024 Salary',
                        data: avgSalariesByPosition,
                        backgroundColor: [
                            'rgba(214, 161, 88, 0.6)',
                            'rgba(74, 85, 104, 0.6)',
                            'rgba(113, 128, 150, 0.6)',
                            'rgba(214, 161, 88, 0.4)',
                            'rgba(74, 85, 104, 0.4)',
                            'rgba(113, 128, 150, 0.4)'
                        ],
                        borderColor: [
                            'rgba(214, 161, 88, 1)',
                            'rgba(74, 85, 104, 1)',
                            'rgba(113, 128, 150, 1)',
                             'rgba(214, 161, 88, 1)',
                            'rgba(74, 85, 104, 1)',
                            'rgba(113, 128, 150, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value;
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                           display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Avg. Salary: $${context.parsed.y.toFixed(2)}`;
                                }
                            }
                        }
                    }
                }
            });
        };

        const applyFilters = () => {
            const selectedPosition = positionFilter.value;
            const selectedDropStatus = document.querySelector('.filter-btn.active').dataset.filter;

            filteredData = rawData.filter(player => {
                const positionMatch = selectedPosition === 'All' || player.position === selectedPosition;
                const dropStatusMatch = selectedDropStatus === 'All' || player.onDropList === selectedDropStatus;
                return positionMatch && dropStatusMatch;
            });

            updateAllViews();
        };

        const updateAllViews = () => {
            renderTable();
            updateKPIs();
            renderChart();
        };

        positionFilter.addEventListener('change', applyFilters);

        dropStatusFilterContainer.addEventListener('click', (e) => {
             if (e.target.tagName === 'BUTTON') {
                dropStatusFilterContainer.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                applyFilters();
            }
        });

        tableHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const sortKey = header.dataset.sort;
                if (sortState.column === sortKey) {
                    sortState.direction = sortState.direction === 'asc' ? 'desc' : 'asc';
                } else {
                    sortState.column = sortKey;
                    sortState.direction = 'desc';
                }
                updateAllViews();
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            updateAllViews();
        });
    </script>
</body>
</html>
